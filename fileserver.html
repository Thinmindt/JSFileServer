<html><head>
<script type="text/javascript">

function httpPost(url, payload, callback) {
var request = new XMLHttpRequest();
request.onreadystatechange = function() {
if(request.readyState == 4) {
if(request.status == 200)
	callback(request.responseText);
else
{
	if(request.status == 0 && request.statusText.length == 0)
	alert("Request blocked by same-origin policy");
	else
	alert("Server returned status " + request.status +
	", " + request.statusText);
}
}
};
request.open('post', url, true);
request.setRequestHeader('Content-Type',
'application/x-www-form-urlencoded');
request.send(payload);
}

function cb(response) {
alert("The back-end server replied: " + response);
if (response.includes("
}

function makeSendPayload(msg) {
alert(msg);
var curFilePath = document.getElementById("currentFilepath").innerHTML;
alert(curFilePath);
var payload.concat("{curFilepath:",filepath,",requestedFilepath:",msg,"}");
alert(payload);
httpPost("http://localhost:1234", msg, cb);
}

</script>
</head><body>
<table>
<tr><td id="currentFilepath" align=right>Current directory:</td><td>
/home/greg/Work/JSFileServer<tr><td>
<b>Folders:</b><br>
<select id="folderList" size="15" style="width: 280px" ondblclick="makeSendPayload(this.value)">
<option value="..">..</option>
<option value="index.html?cd=/home/greg/Work/JSFileServer/Folder">Folder</option> 
</select>
</td><td>
<b>Files:</b><br>
<select id="fileList" size="15" style="width: 280px">
<option value="openFile=/home/greg/Work/JSFileServer/Main.class">Main.class</option> 
<option value="openFile=/home/greg/Work/JSFileServer/Main.java">Main.java</option> 
<option value="openFile=/home/greg/Work/JSFileServer/build.bash">build.bash</option> 
</select>
</td></tr></table>
</body></html>
